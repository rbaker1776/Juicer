#include <iostream>
#include <chrono>
#include <string_view>
#include "../engine.h"
#include "../juicer.h"


// these positions are selected randomly from lichess's elite database
// I figure that selecting from real games will give a more accurate sence of 
// perft performace while playing
static constexpr std::string_view fens[256] =
{
	"8/3N2kp/6p1/2P5/8/5N1P/rP4PK/8 b - - 0 45",
	"r3qrk1/1p3pbp/p2B2p1/2R4n/4b3/1Q2PN1P/P3BPP1/3R2K1 w - - 6 22",
	"5rr1/1p2qkpQ/p1b1p3/2p1B2R/2PpR3/1P6/P4PPP/6K1 w - - 7 27",
	"8/3b4/pp2p3/2k1B3/2P2P2/1P2KRq1/8/8 b - - 9 59",
	"r2q1Bkr/pb3p1p/4p1p1/1B1p4/6Q1/8/PPP2PPP/R3R1K1 b - - 0 17",
	"8/6k1/6p1/8/5RK1/8/2r2PP1/8 w - - 25 50",
	"8/8/8/6p1/2R2k2/5P2/6PK/r7 b - - 32 82",
	"6k1/2R5/8/6K1/6P1/1r6/8/8 w - - 1 115",
	"6k1/1R4P1/8/8/8/3K4/8/r7 b - - 0 147",
	"8/pp6/k6p/3R4/PK5r/8/8/8 w - - 4 41",
	"5r2/3bqpkp/4Nnp1/1p6/rQ1NP3/3P2P1/5PBP/2R3K1 b - - 0 25",
	"8/4pk2/2r4b/p3B2p/PpK2P2/3N4/1P5P/7R w - - 2 43",
	"r1bqrbk1/pp3p1p/2n3pQ/4p1B1/8/1NPB4/P1P2PPP/R4RK1 w - - 4 15",
	"8/7p/R4kp1/3n4/4p3/7P/6PK/8 b - - 2 47",
	"r1b1r1k1/ppp2ppp/2n2n2/3p4/3P4/2PBPN1P/PP1N1KP1/R6R b - - 2 13",
	"8/PR5p/5kp1/8/8/1p1KP3/r7/8 w - - 0 46",
	"8/8/8/8/4r3/3k1K2/8/8 b - - 29 78",
	"1r4k1/3bPpbp/Rn4p1/2p5/2p5/2N3PP/1P2PPB1/4R1K1 b - - 0 25",
	"r1bq2k1/1p2nr1p/p1n1pbpB/3p4/3P4/2N2N2/PP1Q1PPP/R3RBK1 b - - 3 14",
	"2q3k1/3R1pp1/2P1p2p/1p6/p7/6PP/5PBK/8 w - - 2 36",
	"4k3/p1r1p2p/1p2Pp2/5P2/2P1R3/1PK1bN1P/P7/8 b - - 8 32",
	"2Q3k1/1b1n2p1/p3p2p/1p1pPp2/3P3P/3B2P1/PP3P2/4N1K1 b - - 0 24",
	"8/k2N2p1/P3p3/1B1pP2b/1P1P4/2K1n3/8/8 w - - 3 57",
	"8/1k5p/pp6/4R3/r7/4K1P1/1P3P1P/8 b - - 0 35",
	"6k1/p6p/1q1bp2R/1p6/3PQP2/P1P3r1/3n1K2/R7 b - - 2 34",
	"r1b2k2/3q1p2/pQ1b2p1/2p5/2PpR1P1/P2P1N1P/4PP2/1R4K1 w - - 4 28",
	"8/3rk3/4p3/1b2P3/p4n2/8/1PB5/1K1R4 w - - 3 38",
	"8/1k3p1p/pb6/1p3p2/7B/P3P2P/1P1RKPP1/2r5 b - - 4 33",
	"5rk1/R5p1/7p/1b6/3P1p2/5N2/pr3PPP/4R1K1 w - - 0 30",
	"8/8/6p1/5k1p/5P2/rr3PK1/5R2/8 b - - 5 62",
	"4k3/1pQ5/3P4/4p2p/4Kr2/P7/5r2/8 w - - 4 38",
	"b2q1rk1/2p2pp1/4pn1p/1p6/1b1P4/1N3NP1/2Q1PPBP/5RK1 w - - 0 16",
	"R2b3Q/1pk2p1p/2n1p3/1b1pP2q/1P6/2P5/2B2PP1/4R1K1 w - - 3 26",
	"8/8/8/8/3QK3/8/3b4/2k5 b - - 0 58",
	"r6k/5rp1/1p1b3p/2n5/P4P2/2P3P1/6KP/R3R3 b - - 0 23",
	"5rk1/pp5p/2n1p1p1/5q2/6Q1/4R2P/PP3PP1/6K1 w - - 7 31",
	"8/4RK2/1pr5/8/3n4/1P1k4/8/8 b - - 0 63",
	"5rk1/p1p3pp/2p5/2p1p1B1/2Pn4/3P1RP1/PP5P/2KR4 b - - 0 19",
	"2b1r3/2q1kQ2/p1Pp1b1p/8/2B2Pp1/1Pp5/P7/2KR4 b - - 5 39",
	"r1b2r2/pppnq1bk/2np2pp/4p3/2BP1p2/P1P1PN1P/1P1N1PPB/R2Q1RK1 w - - 4 14",
	"5b2/1pp2k2/p2p2pp/3P2P1/2PBKP1P/1P6/8/8 b - - 3 46",
	"r4r1k/ppq3pp/8/2pBb3/2N5/2PP2Pb/PP3P1P/R1BQ2K1 w - - 3 17",
	"5rk1/r6p/p1R3p1/1pp1B1b1/3p4/3P3P/PPP3P1/4R1K1 b - - 0 28",
	"r1b2rk1/p1q2ppp/4p3/1NppP3/4nB2/1PPQP3/5PPP/R4RK1 b - - 1 17",
	"2b2rk1/2qn1pbp/p2p4/PrpPp2p/N3P3/6P1/2NB1P1P/R2Q1RK1 b - - 3 19",
	"8/4k3/pN1p3p/PnpPpb1p/2N4P/4K1P1/8/8 w - - 1 52",
	"8/2p5/1p4k1/p1b5/2P1pBN1/1P1nP1P1/r7/3R2K1 b - - 2 38",
	"r1r3k1/1bppn2p/p3p3/1pPn1pp1/3P4/PP2PBP1/3N1P1P/2RRN1K1 b - - 0 18",
	"8/8/5k2/8/7P/3q1K2/4NP2/8 w - - 2 51",
	"3r1rk1/4b1pp/6n1/p7/1pPN4/1P2pb2/P6P/1B1RBRK1 b - - 0 34",
	"4r3/2p2k2/3r4/p1N1pp1Q/P7/7P/1PP3P1/7K b - - 2 31",
	"r5k1/pb4r1/1p3b2/2p3pR/2P1Bp2/2N1nP2/PP4PB/2R4K b - - 5 33",
	"2kr3r/pp1bqpp1/1np1p2p/3n4/3PN1P1/1N2P3/PPQ1BP1P/1K1R2R1 b - - 4 16",
	"8/6n1/3Kp3/k2p2p1/P7/4P2P/3N1P2/8 w - - 0 49",
	"2rk3r/2nbp2p/5ppb/1p1P3n/p2P4/P1N2NB1/BP3PPP/2R2RK1 w - - 2 20",
	"2r2rk1/1p4p1/p3p2p/2Npqn2/1P5P/P2QP1P1/6K1/2R2R2 w - - 0 24",
	"8/6K1/1p6/8/8/1k6/p7/7R b - - 0 56",
	"1rb2r1k/3qb1pp/5n2/p1ppPP2/8/1PN1B2P/P2Q3K/R4RN1 b - - 0 22",
	"2kr2r1/pp1bpn1p/3p1n2/q1pP1pp1/P1P5/2P1P1B1/2QNBPPP/RR4K1 b - - 1 16",
	"3kb3/1R6/pP1p4/P1pP4/8/2r3Pp/5R1K/8 w - - 0 49",
	"1r6/6k1/5qp1/1P6/2B1R1R1/pKP2r1P/N7/8 w - - 5 40",
	"8/1p6/1k3K2/1P2p3/P4p1p/3R3P/4r3/8 w - - 1 41",
	"8/8/8/3k2K1/3q4/8/8/8 b - - 23 73",
	"3rr1k1/pp5p/2p1RpQ1/6p1/3n4/2P4B/P2B1K1P/6R1 b - - 0 32",
	"3rb1k1/5ppp/3qp3/1p2N3/3PP3/5Q1P/2r2PP1/1R1R2K1 w - - 1 22",
	"8/4k3/4Pp1p/5P1P/5K2/1b6/8/8 b - - 8 54",
	"r4rk1/pbqnbp2/1p2pnp1/2pp2Np/2P5/3P2P1/PBQNPPBP/R4RK1 w - - 2 18",
	"r4rk1/pb1q1p1p/1pp1P1p1/8/2P1P3/3B4/P3QPPP/R3K2R b KQ - 0 17",
	"8/4k3/4b3/2R3P1/5K2/2p2B2/2r5/8 w - - 1 50",
	"1rq1k3/5p2/p4P2/P2Pp2Q/1pNbP2p/1P4rP/R1P4K/5R2 w - - 9 34",
	"4r1k1/1p1R2p1/2p1P2p/2P3r1/1P5q/4Q2P/6BK/4R3 w - - 0 34",
	"5k2/1p2qnpp/1pp2p2/4pP2/2B5/2P4P/PP3PP1/3Q2K1 w - - 1 23",
	"4rnk1/5pp1/3q1p1p/p2P3b/1b6/1N2B2P/1P3PP1/R1R2BK1 w - - 1 23",
	"5r1k/p1p3pp/1pBn1p2/1P1Q4/3P4/2P5/P4P1q/3RK3 b - - 4 27",
	"3rk2r/ppq2ppp/2pbpn2/8/2P1P3/1P3B1P/PB2QPP1/R4RK1 b k - 2 14",
	"3k1br1/R4Rpp/4p3/1pn5/2b5/2N1P1P1/1P2P1BP/6K1 b - - 1 21",
	"8/3k1pB1/n7/6PP/PP1Kb3/8/8/8 b - - 2 45",
	"8/Pk3K2/8/6P1/8/3bB3/8/8 w - - 13 78",
	"r4k1r/p2Q1p2/1p2p3/2bp1p2/3N4/2P1q3/PP2R1B1/R4K2 b - - 1 27",
	"1r6/p4k2/3p2p1/3Pqp2/3Q4/1P4P1/P3PPK1/7R w - - 4 33",
	"8/6k1/4p1p1/7p/6P1/r3pK1P/8/4R3 b - - 0 40",
	"1R4k1/p2r1p1p/P2Bp1p1/4P3/2p5/6P1/1P1n1PKP/5r2 b - - 1 31",
	"1r6/6pk/4Q2N/2P5/1P2B3/q5P1/7K/8 b - - 2 43",
	"r2q1rk1/4bpp1/p2p1nbp/1pnPp3/4P1PP/2N2PN1/PP4B1/R1BQK2R w KQ - 0 15",
	"8/Rb2rk2/1p6/1Ppp4/4pqpP/8/2Q2P1P/3R2K1 w - - 0 35",
	"kr6/pb1Q3p/1P1Pp3/2p1Kp2/6q1/3BB3/5PPP/8 b - - 0 30",
	"5k2/p4p2/1p2p1p1/2pr2N1/P1N4P/1P2KP2/8/8 b - - 2 40",
	"2rq1rk1/pb3pp1/1pnb1n1p/3p4/1P6/P1NBPN2/1BQ2PPP/R2R2K1 w - - 3 15",
	"3Q1k2/8/p3q1pp/1p6/1P6/P5P1/6K1/8 b - - 11 47",
	"4kb1r/1p3p2/4ppp1/rpP5/3P4/1P6/3B1PPP/3K3R w k - 0 25",
	"4R3/8/5p2/4bkp1/8/1r6/5K2/8 b - - 3 57",
	"1r3rk1/pp1b3p/3q2p1/4ppP1/3p1R1P/3P4/PPPQ2B1/R5K1 w - - 0 21",
	"r2q1rk1/1b1nppbp/3p2p1/p1nN1P2/1p1NP3/3BB2P/PPP1Q1P1/3R1RK1 b - - 0 15",
	"8/3N2k1/2P3p1/7p/8/5N1P/6K1/8 w - - 0 48",
	"r4qk1/1pR2pbp/p4np1/6N1/4b3/1Q2P2P/P3BPP1/3R2K1 b - - 3 24",
	"5rr1/1p1kq1pR/p1b1p1Q1/2p1B3/2Pp1R2/1P6/P4PPP/6K1 b - - 12 29",
	"8/8/ppb1p3/2k1Bq2/2P2P2/1P1R4/3K4/8 w - - 14 62",
	"r4qkr/1b3p2/4p1p1/pB1p3p/3Q3P/8/PPP2PP1/R3R1K1 w - - 0 20",
	"8/6k1/6p1/2r5/7K/5R2/5PP1/8 b - - 30 52",
	"8/8/8/5kp1/2R5/5P2/6PK/r7 w - - 37 85",
	"6k1/2R5/6K1/8/6P1/1r6/8/8 b - - 6 117",
	"6k1/1R4P1/8/8/8/6r1/3K4/8 w - - 5 150",
	"8/p7/kpKR3p/8/r7/8/8/8 b - - 1 43",
	"5k2/5p1p/4bnp1/1p6/r3P3/3P2P1/5PBP/2R3K1 w - - 0 28",
	"8/4pk2/7b/p1N1B2p/Pp2KP2/8/1r5P/7R b - - 1 45",
	"r1b1rbk1/ppq4p/2n3p1/4ppB1/2B4Q/2P5/P1PN1PPP/R4RK1 b - - 1 17",
	"8/7p/6p1/3n4/4k3/4p2P/4R1PK/8 w - - 2 50",
	"r3r1k1/ppp2ppp/5n2/3p1n2/3P4/2P1PN1P/PP1N1KP1/R3R3 w - - 0 16",
	"8/PR6/5kp1/7p/8/4P3/rp6/1K6 b - - 1 48",
	"8/8/8/8/4k3/4r3/8/5K2 w - - 34 81",
	"6k1/3bbp1p/1r4p1/2p5/2p5/2N3PP/1P2PPB1/3R2K1 w - - 0 28",
	"r1b3k1/1p3r1p/p1n1pqp1/3p4/3n4/2N2N2/PP1Q1PPP/R3RBK1 w - - 0 17",
	"2q5/4kpp1/2P1p2p/1R6/p7/6PP/5PBK/8 b - - 0 38",
	"4k3/p3p2p/1p2Pp2/2r2P2/2P4R/bP3N1P/P1K5/8 w - - 13 35",
	"2b5/5kp1/pn2p2p/1p1pPp1P/1P1P4/3B2P1/P4P2/4N1K1 w - - 1 27",
	"8/k2N2p1/P3p3/3pP2b/1P1P4/8/1n1K4/5B2 b - - 8 59",
	"8/1k5p/1p6/p6R/5P2/4K1P1/1r5P/8 w - - 0 38",
	"6k1/p6p/3bp2R/1p6/2qPnP2/P1P3r1/4K3/2R5 w - - 4 37",
	"1Rb2k2/3q1p2/p5p1/2p5/2PNR1P1/P2P3P/4PP2/6K1 b - - 0 30",
	"8/3rk3/4p3/4P3/p4n1R/8/1PK5/8 b - - 0 40",
	"8/1k3p1p/pb3B2/1p3p2/1P6/P3P2P/3RKPP1/1r6 w - - 3 36",
	"R7/5rpk/7p/1b6/3P1p1P/5N2/pr3PPK/4R3 b - - 4 32",
	"8/8/6p1/5k2/5P2/r3rP1p/6K1/5R2 w - - 0 65",
	"2r1kb1r/pp1b1ppp/1q2p3/3nP3/1P1P4/P1p2N2/1B2BPPP/2RQ1RK1 w k - 0 15",
	"B4rk1/2p2pp1/4pn1p/1p5q/1b1P3N/1N4P1/2Q1PP1P/2R3K1 b - - 0 18",
	"R7/1pk2p1B/2n1p3/1b1pP1b1/1P6/2P3P1/5P2/4R1K1 b - - 0 28",
	"8/8/8/8/2Q5/5K2/3b4/3k4 w - - 5 61",
	"4R3/5rpk/1p1b3p/8/n4P2/2P3P1/6KP/8 w - - 2 26",
	"5rk1/pp5p/2n1R1p1/8/5Q2/7P/PP4PK/8 b - - 0 33",
	"1R6/5K2/1pr5/1n6/8/1k6/8/8 w - - 2 66",
	"6k1/p1p1B1pp/2p5/2p1p3/2Pn4/3P2P1/PP1R3P/2K2r2 w - - 4 22",
	"2b1r3/2k1q3/p1PR1Q1p/8/2B2Pp1/1Pp5/P7/2K5 w - - 1 42",
	"r1bq1r2/pppn2bk/2np2pp/8/3P1p2/P1PB1N1P/1P1N1PPB/R2QR1K1 b - - 3 16",
	"8/1p2bk2/p1pp2p1/3P1PP1/2PBK3/1P6/8/8 w - - 1 49",
	"4rr1k/ppq3pp/5b2/2pB4/2N2P2/2PPBQPb/PP5P/R5K1 b - - 4 19",
	"5rk1/7p/p5p1/1pR1r3/3p4/3Pb2P/PPP3PK/4R3 w - - 0 31",
	"r4rk1/pb3ppp/1q2p3/1Np1P3/2p1nB2/1P1QPP2/6PP/R4RK1 w - - 0 20",
	"5rk1/2qn1pbp/p2p4/PrpPp2p/N3P3/5PPb/2NB3P/R2QR1K1 w - - 3 22",
	"8/8/pN1p1k1p/PnpPp2p/2N1K1bP/6P1/8/8 b - - 6 54",
	"8/2p5/1p4k1/p1b5/2P1pBN1/1P1nP1P1/1r6/3R2K1 w - - 7 41",
	"1rr3k1/1bp1n2p/p2pp3/1pPn2p1/3Pp3/PP1N1BP1/3N1P1P/2RR2K1 w - - 0 21",
	"4rrk1/ppp3pp/1bn2q2/3p4/3P2b1/1QP1BN2/P3BPPP/R4RK1 b - - 3 15",
	"2rq1rk1/1b1nbppp/p3p3/1p1nN1B1/3P4/P1NB4/1P2QPPP/R2R2K1 w - - 7 15",
	"4r3/1Np1k3/3r4/p3pQ2/P7/7P/1PP3P1/7K w - - 3 34",
	"r5k1/pr6/1p6/2p3pR/2P2p2/4nP2/Pb4PB/1R5K w - - 0 36",
	"1k1r3r/pp1bqpp1/1np4p/2Nn4/3R2P1/1N2P3/PPQ1BP1P/1K4R1 w - - 1 19",
	"4n3/8/4K3/3p2p1/k7/4P2P/3N1P2/8 b - - 0 51",
	"2rk3r/2nbp2p/5pp1/1p1P4/p2P1b2/P1N2NP1/BP3PP1/3RR1K1 b - - 0 22",
	"2r2rk1/3N2p1/pp2p2p/3p1n2/1P5P/P2QPRPK/1q6/2R5 b - - 3 26",
	"8/8/8/4K3/kp6/8/p7/7R w - - 2 59",
	"1r3r1k/3bb1pp/5P2/p1p2P2/8/1PN1p2P/P6K/R4RN1 w - - 0 25",
	"2kr2r1/pp1bpn2/q2p4/2pP1ppp/P1P3nP/2P1P1B1/1Q1NBPP1/RR4K1 w - - 3 19",
	"1R2b3/1P1k4/p2p4/P1pP4/8/1r4PK/5R2/8 b - - 0 51",
	"1r6/3R4/5qpk/1P6/2BR4/pKP4P/N7/5r2 b - - 10 42",
	"8/1p1R4/8/kP2p1K1/P6p/5p1P/4r3/8 b - - 1 43",
	"8/4K3/8/4k3/5q2/8/8/8 w - - 28 76",
	"3r2k1/pp6/2p2pp1/6p1/3P4/7B/P2B1K1P/6R1 w - - 1 35",
	"2r1b1k1/5ppp/3qp3/8/1p1PP3/1R1NQ2P/2r2PP1/3R2K1 b - - 1 24",
	"4b3/4k3/4Pp1p/5P2/5K2/8/8/8 w - - 2 57",
	"r4rk1/pbqnbp2/1p2pnp1/2p3Np/2P5/3PP1P1/PBQN2BP/2R2RK1 b - - 0 20",
	"r3r1k1/pb5p/1pp1qpp1/4P3/2P2P2/3B4/P3Q1PP/R3K2R w KQ - 0 20",
	"8/4k3/6P1/2R1K3/4B3/1bp5/8/2r5 b - - 0 52",
	"1r2k3/5p2/p4P2/P2Pp3/1pNbP3/1P5K/R1P5/5R2 b - - 0 36",
	"4r3/1p1RP1pk/2p4p/2P3r1/1P2Q2q/7P/6BK/5R2 b - - 2 36",
	"5k2/1p2q1p1/1ppn1p1p/4pP1Q/7P/1BP5/PP3PP1/6K1 b - - 2 25",
	"4rnk1/5pp1/2Nb1p1p/3q3b/2B5/4B2P/1P3PP1/R1R3K1 b - - 3 25",
	"5r1k/p1p3p1/1pBn1p1p/1P1Q4/3P3q/2P5/P2K1P2/6R1 w - - 2 30",
	"3r1rk1/ppq2ppp/4pn2/2p1b3/2P1P3/BP3B1P/P3QPP1/3R1RK1 w - - 0 17",
	"r1b2r1k/p2nNppp/5n2/8/2p1P3/4BP2/PPP3PP/2KR3R b - - 0 15",
	"8/3k1pB1/4n2P/1P4P1/P2K4/8/2b5/8 w - - 1 48",
	"k7/P7/6K1/8/8/4B3/8/8 b - - 0 80",
	"r4k1r/p7/1p2Q3/2b2p2/3p4/2Pq4/PP2R1B1/R4K2 w - - 0 30",
	"r3k2r/pp1nbppp/5n2/8/3N2q1/2N5/PP3PPP/R1BQ1RK1 w kq - 4 14",
	"8/8/4p1p1/4k3/6KP/r3p3/8/4R3 w - - 1 43",
	"r1b1r1k1/pp1n1ppp/2p1pn2/8/2PPN3/qP3NP1/P1Q2PBP/R4RK1 b - - 0 13",
	"1r5k/6p1/4Q3/2P3N1/1P2B3/q5P1/7K/8 w - - 7 46",
	"r2q1rk1/4Bpp1/p2p2b1/1pnPp2n/4P2P/2N2PN1/PP4B1/R2QK2R b KQ - 0 17",
	"8/Rb2r3/1p2k3/1P1p4/2p1pqpP/2Q5/5P1P/3R2K1 b - - 3 37",
	"kr6/pb1Q3p/1P1PpKq1/2p5/5B2/3B4/5PPP/8 w - - 3 33",
	"8/p3k3/1p2ppp1/2p4r/P3N2P/1P2KP2/3N4/8 w - - 2 43",
	"2rq1rk1/pb3pp1/1p3n1p/3pbB2/1P6/PQN1P3/1B3PPP/R2R2K1 b - - 1 17",
	"1Q6/4k3/p3q1pp/1p6/1P6/P5P1/6K1/8 w - - 16 50",
	"4k2r/1p3p2/5Pp1/Bpb5/8/1P6/5PPP/3K3R b k - 0 27",
	"4r3/8/5p2/4bkp1/8/8/6K1/8 w - - 0 60",
	"2r2rk1/pp5p/2bq2p1/4ppPP/3p4/3P4/PPPQ1RB1/5RK1 b - - 0 23",
	"r1bq2k1/ppp2pp1/4p2r/8/3PQ3/5N2/PPP2P1P/2KR3R w - - 0 18",
	"8/p3k1pp/1pp1pp2/5n2/2PP4/1P1NKP2/P5PP/8 w - - 5 33",
	"7k/8/p1p1p1KP/1pP1P3/1P6/P7/8/8 b - - 4 65",
	"2kr3r/pp2bp2/4p2p/q4p1P/2P1N1P1/1Q6/PP3P2/1K1R3R w - - 0 22",
	"r2q1rk1/3n1ppp/2pb1pb1/pp6/3P2PN/4B2P/PPPQ1P2/1K1R1B1R w - - 0 14",
	"3rr1k1/p1R3pp/8/4np1q/1P1p1Bb1/P2P2P1/4PPBP/3QR1K1 b - - 1 23",
	"r7/bp1kq3/4pp1P/4p3/4P3/p4QPB/2P1NP2/6K1 w - - 0 35",
	"1qr3k1/6pp/1b2p3/p3Np2/Pp2nP2/1Pr2RPP/R1P1Q2K/2B5 b - - 10 31",
	"8/1p1bk2p/5pp1/1p1p4/pP1P3P/P1P1KPN1/6P1/8 b - - 4 34",
	"2r3k1/3qppbp/pr4p1/R2PP3/2P5/3B3P/1P1Q1Pp1/4R1K1 w - - 0 24",
	"8/2br4/R1k3pp/5p2/4pP2/6KP/6B1/8 b - - 1 56",
	"4rbk1/rp3p1p/4b1p1/2p1R2n/p4P2/P1BP2PP/1PPQ1KB1/8 b - - 2 22",
	"2r1qrk1/6pp/1p2p3/p2pP3/n2B4/5P2/1PBQ2PP/5RK1 w - - 0 26",
	"5rk1/1p3p2/1n1r1q1p/p1p1pP2/P5P1/1B4QP/1PP2P2/4R1K1 b - - 1 25",
	"7k/pp4p1/2p1n1p1/6P1/8/6R1/P7/7K w - - 0 35",
	"3r1rk1/pR3p1p/5bp1/8/1P1P4/PQ2BP1q/5P2/2R3K1 w - - 2 30",
	"8/7R/2kpn1p1/4pp2/2P4P/1K2PP2/6r1/4B3 w - - 1 42",
	"r4rk1/1p3pp1/pq2pn2/4P2p/5Q1P/P1Nb4/1PP1B1P1/4K2R w K - 0 19",
	"8/1b5p/4p1p1/2p1p3/1kP3P1/2n3KP/B7/R7 b - - 2 43",
	"r2q1rk1/1np1bpp1/1pNp1n1p/p7/2P5/PP2P1P1/1BQN1P1P/R2R2K1 b - - 1 17",
	"5k2/3R1p2/2p1r3/2P1P2p/5K1P/8/8/8 w - - 1 50",
	"k5r1/p2q4/2p2p2/3p2r1/3PnQ1p/P3PR1P/1R4P1/2B3K1 b - - 5 29",
	"R7/1r6/3K4/3p4/8/P2k4/8/2q5 w - - 0 62",
	"rn1q3k/1p4pp/2p1Q3/p7/P1BP4/8/5PPP/b1B2RK1 w - - 1 17",
	"5q2/5k2/5n2/p2p4/1p1P2P1/5P2/PP1Q4/1K6 w - - 1 32",
	"8/3q2p1/p5k1/3p1p2/3P1bn1/1P2P3/P1Q2PP1/4B1K1 w - - 0 39",
	"2b1kb1r/3n1p2/pq1ppp2/6Pp/1r1NP2P/2N1Q3/1PP2P2/2KR1BR1 b k - 0 16",
	"5r2/R7/8/6pk/6p1/6K1/P7/8 b - - 0 43",
	"r2q1rk1/pp3pp1/3bp2p/3n4/3PN2P/3QPB2/PP4P1/R4K1R b - - 2 20",
	"r4rk1/pp1bnpbp/4p1p1/8/4PP2/1BNq4/PP1B2PP/R3QRK1 w - - 2 16",
	"3r4/1p3k2/4pp1p/2nr4/p7/P4NP1/1PPR3P/2K2R2 w - - 5 31",
	"5rk1/pb2bpp1/1p2pn1p/3qn3/3N3B/4P3/PP1N1PPP/1BQ1R1K1 w - - 0 16",
	"8/8/7B/1b4p1/4P1P1/pk3P2/3K3P/8 b - - 0 48",
	"r3r1k1/2q2pp1/1p1b2bp/1Pp4n/2PpP3/1R1B2PP/3B1P2/2Q1RNK1 b - - 1 27",
	"r1b2rk1/pp3ppp/8/3p4/2pPn3/2q1PN2/P3BPPP/R2Q1RK1 w - - 2 15",
	"5b2/5pk1/1p2p1p1/r6p/2P1KP2/1P1N2P1/P4R1P/8 b - - 4 33",
	"r2q1r1k/1p2b1p1/2b1p1Pp/3p1p1Q/p3PP2/3P3R/PPnNN2P/2B3RK w - - 0 25",
	"2rq1rk1/1b3pp1/1p2p1p1/p6n/PbPP4/1N3N1P/4QPPB/R2R2K1 w - - 0 21",
	"r2q1rk1/ppp3pp/3b2n1/3Ppp2/4P1b1/6B1/PP1NNPPP/R2Q1RK1 w - - 0 16",
	"3r2k1/5ppp/1bp2q2/p2rp3/P7/1N1P1P2/1P2Q1PP/3R1R1K b - - 0 19",
	"1qr2rk1/pb1nbppp/1p6/2pp4/4P3/1P4P1/PB1N1PBP/2RQR1K1 w - - 0 18",
	"r4rk1/1p3ppp/p1p2nb1/3qb3/Q1B5/4P1N1/PP3PPP/R1B1R1K1 b - - 1 15",
	"8/5p2/4bk1p/5p2/8/4RBP1/7P/7K w - - 1 48",
	"8/4bpk1/p4npp/r3p3/Pp1pP3/2rP3P/3RNPP1/1R1B2K1 b - - 8 30",
	"8/1r6/6p1/1B4k1/2R2p1p/5P1P/1K4P1/8 w - - 4 63",
	"r7/p1p2kpp/4qn2/1P1b4/PP2p3/N1Q1P3/1B4PP/3R2K1 w - - 9 21",
	"8/2p3p1/1p2k1n1/p1p3Pp/P1PpK2P/2P3P1/5B2/8 w - - 0 36",
	"r1bQ2nR/1p1p1k2/p4Pp1/4p3/6P1/2P5/PP6/2K5 w - - 0 30",
	"6r1/p4p2/1pn1k1Pp/4Pp2/P2P1R2/B5P1/4KP2/8 b - - 0 31",
	"r4rk1/p1q2ppp/1p2pn2/2p1R3/2BP4/2P2PNn/PP1Q1P1P/2R2K2 b - - 2 19",
	"2r1brk1/pp2b1pp/4p3/n2qNp2/P2P4/4P2P/3N1PPB/R2Q1RK1 w - - 0 19",
	"8/8/8/8/4k1pP/r7/6PK/5R2 b - - 8 51",
	"R7/p1pr3p/2p2pk1/8/2P5/P4P1P/1P1K1P2/8 w - - 9 26",
	"3q1rk1/p2b1ppp/4p3/3pN3/3PnB2/1P2Q3/P4PPP/1R4K1 b - - 2 24",
	"3rr2b/pp3q1k/2p4P/5p2/1Q1P1P2/2P5/1P4P1/K2R3R w - - 11 40",
	"8/5R2/8/4K3/8/5pk1/8/8 b - - 3 72",
	"8/5pk1/8/R5p1/1r6/6K1/8/8 b - - 1 44",
	"3r1rk1/pbR1bpp1/1p2qn1p/3pN3/3P4/1P1BP3/PB3PPP/1Q1R2K1 b - - 0 17",
	"2kr1n1r/1ppq1pn1/1b2b2p/pP1pP1pP/P2P1pP1/B1PB4/3QN2N/2R3RK b - - 6 23",
	"1r4k1/p2b1ppp/2p1p3/3pP1PP/1b3P2/q1N2Q1R/P1P5/K2R1B2 w - - 5 20",
	"8/7p/7P/P4k2/1R3p2/8/8/K7 b - - 0 52",
	"8/p4qbk/3p2pp/1Bp1r3/5N2/2P1B1P1/PP1Q3P/6K1 b - - 0 25",
	"r1b2rk1/1pp2pp1/p1np1R2/4p1qp/4P1P1/3PP1NP/PPPQ2B1/R2N2K1 b - - 0 15",
	"7k/6p1/3P4/p1Nn2PP/5KB1/8/8/4r3 w - - 3 48",
	"5rk1/pp2ppb1/4q1p1/2r5/6n1/P1N5/1P3PP1/1B1Q2KR w - - 0 24",
	"r1bq1r2/pp4bk/7p/2pp3P/3N1Bn1/P1N3Q1/1PPK2P1/R6R w - - 0 22",
	"3nrr2/1p3kp1/p3p2p/3p1p2/1BPP4/1P2RP2/P5PP/4R1K1 b - - 2 25",
	"8/r7/6Kp/8/7P/5P2/5kP1/8 w - - 3 58",
	"2k5/4Q3/p2B3p/1p6/8/8/5PPP/6K1 w - - 5 42",
	"8/4P1k1/3p2p1/1B1Q4/P1p2P2/6b1/6P1/6RK b - - 0 45",
	"8/1p3N2/1k3p2/4pP1p/1Pq5/Pr5P/1K1R4/8 w - - 4 42",
};


int main()
{
	Engine juicer;
	uint64_t nodes = 0;
	double time = 0;

	for (std::string_view fen: fens)
	{
		juicer.seed(fen);

		auto start = std::chrono::steady_clock::now();
		nodes += juicer.perft<false>(5);
		auto end = std::chrono::steady_clock::now();
		
		time += std::chrono::duration_cast<std::chrono::microseconds>(end - start).count();
	}

	std::cout << std::endl;
	std::cout << "Total nodes:   " << nodes << std::endl;
	std::cout << "Finished in:   " << time << " microseconds" << std::endl;
	std::cout << "Aggregate NPS: " << "\x1b[35m" << uint64_t(nodes * 1'000'000 / time) << "\x1b[0m" << std::endl;

	return 0;
}
